[TOC]
## docker使用镜像常用命令

### 1. 获取镜像
```
docker pull ubuntu:14.04
docker pull ubuntu 			#默认从registry.hub.docker.com中获取
docker pull hub.c.163.com/public/ubuntu:14.04		#从网易蜂巢下载镜像
docker run -d -p 80:80 --name webserver nginx		#没有镜像会先下载
```

### 2.查看镜像信息
```
docker images
docker inspect ubuntu:13.10
docker history ubuntu
```
### 3.查找镜像
```
docker search TERM
docker search centos
docker search nginx
```
### 4.删除镜像

```
docker rmi IMAGE
docker rmi ubuntu:13.10    #强制删除镜像
docker rmi -f ubuntu:13.10
```
### 5.创建镜像

1.基于已有镜像的容器创建
```
docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]
# docker run -it ubuntu:14.04 /bin/bash
root@cd391ad59121:/# 
记住容器ID：cd391ad59121
```

```
提交新的镜像：
docker commit -m "added a new file lxxxx" -a "jishubu lxx" cd391ad59121 test:0.1
查看：
# docker images
REPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE
test                          0.1                 b2ac4664aadb        16 seconds ago      188 MB
```
2.基于本地模板导入
[从一个操作系统模板导入一个镜像](https://openvz.org/Download/template/precreated)
```
cat centos-6-x86_64-minimal.tar.gz |docker import - centos6min
```
3.基于Dockerfile创建


### 6.保存和导出镜像 
保存： docker save
```
docker save -o ubuntu_14.04.tar ubuntu:14.04
```
通过文件将镜像复制给他人

导入： docker load
```
docker load < ubuntu_14.04.tar
```
### 7.上传镜像
使用 docker push 默认上传到docker hub官方
```
docker pust NAME[:TAG] |[REGISTRY_HOST[:REGISTRY_PORT ] /] NAME[:TAG]
```


