# vi基本操作

vi 打开文件路径

a 修改

Esc 冒号 w 保存  或者 ZZ  保存退出。

:wq!强行保存退出，只有文件所有者，或者是root用户。

:w  【保存】

:w /root/service.bak   【另存为】

搜索关键字：
Esc /关键字 回车

n下一个 

shift+n 上一个



ESC 冒号 q!  不保存强制退出

*********************vim/vi 文本编辑器*********************	
三种模式下切换

命令模式 	:

插入模式 	a

编辑模式	ESC


进入
	vi filename
	
退出
		:wq
		
插入模式iao

编辑模式  i a o	

*****************插入命令*************************	
插入命令
a	【在光标后附加文本】
A	【在本行行末附加文本】
i 	【在光标前插入文本】
I	【在本行开始插入文本】
o	【在光标下插入新行】
O 	【在光标上插入新行】


*****************定位命令*************************	

h或方向左键		【左移一个字符】
j或方向下		【下移一行】
k/方向上		【向上一行】
l/方向右键		【右边移一个字符】	
$				【移至行尾】
0（零）			【移至行首】
H				【移至屏幕上端】
M				【移至屏幕中央】
L				【移至屏幕中下端】
W或w			【定位到当前句子的开始位置】
E或e			【定位到当前这句话的最后位置】



:set nu 		【设置行号】
:set nonu		【取消行号】
gg				【到第一行】
G				【到最后一行】
nG或4gg			【到第n行】到第四行
:n				【到第n行】


u   			【撤销上一步的操作】
Ctrl+r 			【恢复上一步被撤销的操作】
Ctrl+b          【在文件中向上移动一页（相当于 PageUp 键）】
Ctrl+f 			【在文件中向下移动一页（相当于 PageDown 键）】


*****************删除命令*************************	

x				【删除光标所在字符】
nx				【删除光标所在处后n个字符】
dd				【删除光标所在行，ndd删除n行】
dG				【删除光标所在行到末尾的内容】
D				【删除从光标所在处到行尾】
:n1,n2d			【删除指定的行】 

:10,20d 		【删除第十行到第20行的内容】




光标移到第一行，然后dG	【删除所有内容】


*****************复制和剪切命令*************************	

yy、Y			【复制当前行】
nyy、nY			【复制当前行一下n行】	
dd				【剪切当前行】
ndd				【剪切当前行一下n行】
p、P			【粘贴在当前光标所在行下活行上】


*****************替换和取消*************************	

r 				【取代光标所在处字符】
R				【从光标所在处开始替换字符，按Esc结束】
u				【取消上一步操作】	
Ctrl+r 			【恢复上一步被撤销的操作】


*****************搜索和替换命令*************************	

/string 			【向前搜索指定字符，搜索时请忽略大小写:set ic】
n					【搜索指定字符串的下一个出现位置】		
:%s/old/new/g		【全文替换指定字符】	
:%s/^#//g			【去掉以#注释】
:%s/^/#/g			【在全文开头添加#】	
:n1,n2s/old/new/g 	【在指定范围内替换指定字符串】
:n1,n2s/^/#/g

:s/str1/str2/       【用字符串 str2 替换本行中首次出现的字符串 str1】

g是全局参数，如果加上这个，你文中有多少就替换多少，如果不加，就只能一个一个的替换！

fa（或fb）			【查询这行a字母的的地方（或b字母）】
3fa					【在这行中查找a出现的第三个位置】

*****************应用实例*************************	

导入其他文件内容
			:r   文件名
			

在vi执行命令
			:! 命令		


定义快捷键：
			:map 快捷键 触发命令			
		实例：
			:map ^P I# <ESC>   【键盘按键实现^P：ctrl+v ctrl+p或者 ctrl+v+p 】
			:map ^B 0x
			
连续注释：
		:n1,n2s/^/#/g
		:n1,n2s/^/#//g
		:n1,n2s/^/\/\//g
		

替换：
	:ab sammail samlee@163.com		
















